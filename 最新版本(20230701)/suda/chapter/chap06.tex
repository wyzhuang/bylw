\chapter{总结与展望}
\label{chap06}

\section{总结}

即时软件缺陷预测关注敏捷迭代的项目开发过程，在软件更改提交到存储库后，立即预测潜在的引起缺陷的软件更改。由于软件变更集通常较小，每个变更集都有一条描述性的日志消息，并且每个变更都有一个提交人，因此软件测试人员可以较为轻松地完成变更审阅。然而目前即时软件缺陷预测领域仍然存在诸如不够重视提交的时间维度、对难分类样本无法很好地区分以及数据采样方法挑选用于合成的样本不具有代表性的问题。本文基于模型迭代的场景下，从区分样本的重要程度出发开展研究工作，论文主要工作包括以下三个部分：

(1)为了解决即时软件缺陷预测领域存在不够重视提交时间维度的问题，本文提出了一种基于时间维度的样本重要性权重――TBW，设计了三种时间衰减函数，在模型迭代的场景下，通过让模型更关注较新提交的样本的方式提高模型的预测性能。为了验证时间维度的重要意义，本文针对10个开源项目，每个项目挑选5个数据区间，9次迭代过程，共450个任务上进行了实证研究，在指标$Acc$、$F1$和$MCC$上的结果表明：用项目的早期提交构建的预测模型往往不能正确预测项目晚期的提交，因此模型的更新迭代是有必要的，且本文所提出的TBW能够让模型更关注较新的样本，有效提高了预测模型的性能。

(2)为了解决即时软件缺陷预测领域中对难分类样本无法很好地区分的问题，本文提出了一种基于特征贡献度的样本重要性权重――CBW，通过提取上一轮模型迭代过程中被误分类的样本，计算这些样本的特征贡献度和分类倾向性，给与真实标签差别更大的样本一个更高权重，从而能让模型关注更难被正确分类的样本。在450个任务上的实验结果表明，CBW在指标$Acc$、$F1$和$MCC$上优于对比方法；消融实验结果表明了CBW方法每个步骤的有效性；最后参数实验结果表明在一定范围内，对被误分类样本关注越多，模型性能越好。

(3)为了解决即时软件缺陷预测领域数据采样方法挑选用于合成的样本不具有代表性的问题，本文提出了一种基于样本重要性权重的数据采样方法――WBO。
通过两种样本重要性权重，对样本重要程度进行排序并挑选部分最重要的样本作为中心样本；并将权重矩阵和特征矩阵进行拼接之后来寻找近邻样本，这样使得用于合成新样本的样本更大概率都是重要样本，从而提高即时软件缺陷预测的性能。在450个任务上的实验结果表明，WBO在指标$Acc$、$F1$和$MCC$上优于对比方法；消融实验结果表明WBO方法通过两个权重融合是优于单个权重的；最后的讨论表明数据集的不平衡程度越高，本文所提出的WBO方法的效果提升越明显。

\section{展望}

本文关注不同样本的重要程度，提出了一系列适用于即时软件缺陷预测领域中的数据预处理方法，并进行了充分的实验来证明所提出方法的有效性。未来与本文研究相关的工作还可以从以下方面开展：

(1)本文中所使用的两种样本重要性权重可以进一步融合。本文所提的两种样本重要性权重分别从纵向和横向的角度出发，对不同样本的重要程度进行区分。我们也讨论了两种权重简单融合后对模型性能表现的影响，发现不具有太大优势。因此未来工作可以去寻找一种更加适合的融合方式，来有效利用两种甚至更多种权重，从而提高预测模型性能。

(2)本文中所提出的两种样本重要性权重可以扩展到其他场景。在本文的450个任务的实验中，训练集和测试集所在的项目是相同的。但是在跨项目场景下，不同项目的时间标签和特征分布都具有较大的差异性，如何将我们的工作扩展到跨项目场景下是一个有意义且充满挑战的工作。

(3)本文中所涉及到的特征可以扩展到其他种类特征。本文的研究是基于14种手工特征之上的，除了这14种手工特征之外，即时缺陷预测领域近些年语义特征的兴起给本文研究带来了新的挑战，我们的方法在其他种类特征之上的性能表现如何也是值得关注的。未来工作可以改造本文方法，让其适用于高维的语义特征，以增强本文方法的通用性。

